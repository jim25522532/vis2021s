<!DOCTYPE html>
<html >
  <head>
    <meta charset="utf-8">
    <title>D3 Page Template</title>
    <link rel="stylesheet" href="./style.css">
    <script src="http://d3js.org/d3.v4.min.js" charset="utf-8"></script> <!-- v6.5.0 -->
</head>
<body>
  <div id="container" class="container">
    
  </div>
</body>
   <script>
     
     
     const dataUrl = "data.csv"
    //  var svg = d3.select("svg"),
    //     margin = 200,
    //     width = svg.attr("width") - margin,
    //     height = svg.attr("height") - margin;

    //     var xScale = d3.scaleBand().range ([0, width]).padding(0.4),
    //     yScale = d3.scaleLinear().range ([height, 0]);

        // var g = svg.append("g")
        //        .attr("transform", "translate(" + 100 + "," + 100 + ")");

        

      d3.csv(dataUrl , function(error , data){
        if (error) {
            throw error;
        }
        
        data["頻率"] = +data["頻率"];
        render(data);
      })

      function render(data){
        

         d3.select("#container")
         .style('transform', 'rotate(180deg)')
         .selectAll("div")
         .data(data)
         .enter()
         .append("div")
         .style('position', 'relative')
         .attr("class", "bar")
        .transition()
        .duration(1500)
        .style('height', function(d){
            return (+d.頻率+7) * 3 + 'px';
        })
      
        d3.selectAll('.bar')
            .data(data)
            .append('div')
            .style('position', 'absolute')
            .style('top', 0)
            .style('right', '10%')
            .style('transform', 'rotate(-180deg)')
            .style('user-select', 'none')
            .transition()
            .duration(1500)
            .text(function(d){
                return d.組界
            });
            
            
      }
  

   </script>

</html>
  